<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<script th:src="@{/js/modalDialogAction.js}" type="text/javascript"></script>

<head th:replace="fragments/header" th:object="${current}">
    <meta charset="UTF-8">
    <title>Report</title>
</head>

<body style="height: 100vh;">
<div class="container mt-2" style="display: flex;
  justify-content: center ;">

    <button class="button-34" role="button" th:text="#{REPORT.NEW}" onclick="openModalToSaveNewReport()"></button>
    <div th:replace="fragments/reportPopUp :: container(${reportNew})"></div>

</div>
<input id="monthSel" type="month" th:value="${selected}"  onchange="javascript:location.href = '/report/selectedDate/' + this.value;" class="mt-2 mb-2 ml-2"   >


<table class="table report-list" id="tableData">
    <thead>
    <tr>
        <th scope="col" th:text="#{REPORT.DAY}"></th>
        <th scope="col" th:text="#{REPORT.DAYOFWEEK}"></th>
        <th scope="col" th:text="#{REPORT.MONTH}"></th>
        <th scope="col" th:text="#{REPORT.BEGIN}"></th>
        <th scope="col" th:text="#{REPORT.END}"></th>
        <th scope="col" th:text="#{REPORT.PAUSE}"></th>
        <th scope="col"  th:text="#{REPORT.DESCRIPTION}"></th>
        <th scope="col" th:text="#{REPORT.ACTION}"></th>
    </tr>
    </thead>
    <tbody>
    <tr th:if="${reports.isEmpty()}" >
        <td colspan="9" th:text="#{NODATA}"></td>
    </tr>
    <tr th:each="report : ${reports}">
        <td hidden="true" th:text="${report.id}" th:id="inputId + *{report.id}" ></td>
        <td hidden="true" th:text="${report.workDay}" th:id="inputMade + *{report.id}"></td>

        <td th:text="${report.workDay.getDayOfMonth()}" ></td>
        <td th:text="#{${report.workDay.getDayOfWeek()}}" ></td>
        <td th:text="#{${report.workDay.getMonth()}}" ></td>


        <td th:text="${report.begin}" th:id="inputBegi + *{report.id}"></td>
        <td th:text="${report.end}" th:id="inputEnd + *{report.id}"></td>
        <td th:text="${report.pause}" th:id="inputPause + *{report.id}"></td>

        <td th:text="${report.description}" th:id="inputDesc + *{report.id}"></td>

        <td>
            <a  class="text-info" data-toggle="tooltip" title="" data-original-title="Edit" th:data-longDescription = "${report.id}" onclick="openModal(this.getAttribute('data-longDescription'))" ><i class="fas fa-pencil-alt"></i></a>
            <a class="text-danger" data-toggle="tooltip" title="" data-original-title="Delete" th:href="@{report/delete/{id}(id = ${report.id})}" th:data-longDescription = "#{REPORT.ACTION.CONFIRMATION}" onclick="return confirm(this.getAttribute('data-longDescription'))"><i class="far fa-trash-alt"></i></a>
            <div th:replace="fragments/reportPopUp :: container(${reportOnChange})">

            </div>
        </td>




    </tr>
    </tbody>
</table>


</body>
</html>